{{ $scratch := .global.global.global.Scratch }}

{{ with .page.columns }}

  {{ range $index, $value := . }}
    {{ if $scratch.Get "gen_menu_buttons" }}
    <button{{ with .template }} data-pb-template-level="column" data-pb-template-add="{{ . }}"{{ end }}>{{ .template }}</button>

    {{ partial "pancakesBuilder/app/generator/elements.html" (dict "page" . "global" $) }}
    {{ end }}


  {{ if $scratch.Get "gen_criticalcss" }}

  {{/* <!--Start row, but maybe not needed if we decide to only insert Css at the section level --> */}}
  {{ partial "pancakesBuilder/app/generator/elements.html" (dict "page" . "global" $) }}
  {{ end }}

  {{ if $scratch.Get "gen_pagehtml" }}
  <div id="{{ with .id }}{{ . }}{{ else }}{{ $index }}{{ end }}"{{ with .template }} data-pb-template-level="column" data-pb-template="{{ . }}"{{ end }} class="{{ .class }}">

  {{ partial "pancakesBuilder/app/generator/elements.html" (dict "page" . "global" $) }}
      
  </div>
  {{ end }}

  
  {{ end }}
{{ end }}